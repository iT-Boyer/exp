#!/bin/sh

TRACKERS=~/.public-trackers.md
if ! [ -f "${TRACKERS}" ] ; then
    wget 'https://gist.githubusercontent.com/mcandre/eab4166938ed4205bef4/raw/46334ae0cd5060a1cce21dd5a82e8b1627c4cd55/public-trackers.md' && mv public-trackers.md "${TRACKERS}"
fi

WHEN=$(date +%Y%m%d%H%M)

(printf "transmission-create -o ${WHEN}.torrent -c ${WHEN} ";
 cut -c3- ~/.public-trackers.md | while read tracker ; do
     printf " -t ${tracker} "
 done;
 echo ~/Downloads/Transfer;
 echo transmission-remote -a ${WHEN}.torrent) | ssh remote-office

scp remote-office:${WHEN}.torrent .
